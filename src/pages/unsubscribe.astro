---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';

const { token, email } = Astro.url.searchParams;
const isUnsubscribed = token && email;
---

<BaseLayout 
  title="Unsubscribe - DevsDoc"
  description="Unsubscribe from DevsDoc emails"
  noindex={true}
>
  <Navbar />
  
  <section class="section section-padding" style="padding-top: 150px; padding-bottom: 100px; min-height: 60vh;">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <div class="text-center" style="background-color: #ffffff; padding: 40px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
            {isUnsubscribed ? (
              <>
                <div style="margin-bottom: 30px;">
                  <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin: 0 auto;">
                    <circle cx="12" cy="12" r="10" stroke="#28a745" stroke-width="2" fill="none"/>
                    <path d="M8 12l2 2 4-4" stroke="#28a745" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <h1 style="color: #333; font-size: 28px; margin-bottom: 20px; font-weight: 600;">Successfully Unsubscribed</h1>
                <p style="color: #666; font-size: 16px; line-height: 1.6; margin-bottom: 30px;">
                  You have been successfully unsubscribed from our mailing list. You will no longer receive emails from DevsDoc.
                </p>
                <p style="color: #999; font-size: 14px;">
                  If you change your mind, you can always contact us at <a href="mailto:iamsaimsohail@gmail.com" style="color: #43BAFF;">iamsaimsohail@gmail.com</a>
                </p>
                <div style="margin-top: 30px;">
                  <a href="/" class="btn" style="display: inline-block; padding: 12px 30px; background: linear-gradient(135deg, #43BAFF 0%, #7141B1 100%); color: #fff; text-decoration: none; border-radius: 6px; font-weight: 500;">
                    Return to Homepage
                  </a>
                </div>
              </>
            ) : (
              <>
                <h1 style="color: #333; font-size: 28px; margin-bottom: 20px; font-weight: 600;">Unsubscribe</h1>
                <p style="color: #666; font-size: 16px; line-height: 1.6;">
                  Invalid unsubscribe link. If you received this link in an email, please use the link provided in that email.
                </p>
                <div style="margin-top: 30px;">
                  <a href="/" class="btn" style="display: inline-block; padding: 12px 30px; background: linear-gradient(135deg, #43BAFF 0%, #7141B1 100%); color: #fff; text-decoration: none; border-radius: 6px; font-weight: 500;">
                    Return to Homepage
                  </a>
                </div>
              </>
            )}
          </div>
        </div>
      </div>
    </div>
  </section>

  <Footer />
</BaseLayout>
